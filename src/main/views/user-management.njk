{% extends "template.njk" %}
{% from "./macros/common-components.njk" import goBack %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/pagination/macro.njk" import govukPagination %}

{% from "moj/components/filter/macro.njk" import mojFilter %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/input/macro.njk" import govukInput %}


{% block pageTitle %}
  {{ title }}
{% endblock %}
{% block beforeContent %}
  {{ super() }}
  {{ goBack() }}
{% endblock %}
{% block content %}

  <h1 class="govuk-heading-l govuk-!-margin-bottom-1 govuk-!-padding-left-3">User Management</h1>
  <span class="govuk-caption-l govuk-!-padding-left-3">Use this page to find, update and delete a user</span>


  <main class="govuk-main-wrapper">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
      {%- set filterOptions %}
        {{ govukInput(emailFieldData) }}
        {{ govukInput(userIdFieldData) }}
        {{ govukInput(userProvenanceIdFieldData) }}
        {{ govukCheckboxes(rolesFieldData) }}
        {{ govukCheckboxes(provenancesFieldData) }}
      {% endset -%}
      <form method="post" action="user-management" autocomplete="off">
        {{ mojFilter({
          heading: {
            text: 'Filter'
          },
          selectedFilters: {
            clearLink: {
              text: 'Clear filters',
              href: '?clear=all'
            },
            heading: {
              text: 'Selected filters'
            }
          },
          optionsHtml: filterOptions
        }) }}
      </form>
    </div>

    {# Table Data #}
    <div class="govuk-grid-column-three-quarters">
      {{ govukTable({
        head: header,
        rows: userData
      }) }}
    </div>
  </div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third">
  </div>
  <div class="govuk-grid-column-two-thirds">
  {#  Pagination #}
  {{ govukPagination(paginationData) }}
  </div>
</div>
</main>


{% endblock %}
{% block bodyEnd %}
  {{ super() }}
{% endblock %}
