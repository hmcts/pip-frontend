{% extends "govuk/template.njk" %}
{% from "govuk/components/header/macro.njk" import govukHeader %}
{% from "govuk/components/footer/macro.njk" import govukFooter %}
{% from "moj/components/sub-navigation/macro.njk" import mojSubNavigation %}

{% block head %}
  {% include "webpack/css.njk" %}
{% endblock %}

{% block header %}

{% set lastElement = {
              href: "/logout",
              text: signOutText,
              active: false,
              attributes: {
                id: "signOutButton"
              }
} if isAuthenticated else {
    href: "/subscription-management",
    text: signInText,
    active: false,
    attributes: {
        id: "signInButton"
    }
} %}

{{ govukHeader({
        homepageUrl: "https://www.gov.uk/",
        serviceName: serviceNameText,
        serviceUrl: "/",
        navigationClasses: 'govuk-header__navigation--end',
        navigation: [lastElement]
      }) }}

{% endblock %}

{% block beforeContent %}
    {% if isAuthenticated  %}
        {{ mojSubNavigation({
            label: 'Primary navigation',
            classes: 'pub-navigation govuk-!-margin-bottom-0',
            items: [
                {
                    text: navLinks.link1,
                    href: 'https://hmcts-sjp.herokuapp.com/account.html'
                },
                {
                    text: navLinks.link2,
                    href: '/search-option'
                },
                {
                    text: navLinks.link3,
                    href: '/live-case-alphabet-search'
                },
                {
                    text: navLinks.link4,
                    href: '/single-justice-procedure'
                },
                {
                    text: navLinks.link5,
                    href: 'https://hmcts-sjp.herokuapp.com/add-subscription.html'
                }
            ]
        }) }}
    {% endif %}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  {% include "webpack/js.njk" %}
{% endblock %}

{% block footer %}
{{ govukFooter({
  meta: {
    items: [
      {
          href: "/help",
          text: help
      },
      {
          href: "/privacy-policy",
          text: privacyPolicy
      },
      {
          href: "/Cymraeg",
          text: language
      },
      {
          href: "/Cookie-policy",
          text: cookiePolicy
      },
      {
          href: "/accessibility-statement",
          text: accessibilityStatement
      },
      {
          href: "/Contact",
          text: contact
      },
      {
          href: "/terms-and-conditions",
          text: tc
      }
    ]
  }
}) }}
{% endblock %}
