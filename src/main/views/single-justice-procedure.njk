{% from "./macros/common-components.njk" import goBack, backToTopButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% extends "template.njk" %}
{% block pageTitle %}
  {{ title }}
{% endblock %}
{% block beforeContent %}
  {{ super() }}
  {{ goBack() }}
{% endblock %}
{% block content %}
  <h1 class="govuk-heading-l">{{ title }}</h1>
  <p class="govuk-body govuk-!-font-weight-bold">{{ p1 }}</p>
  <p class="govuk-body">{{ p2 }} {{ published }}</p>
  <div class="parent-box">
    {% set sjpCase = [] %}
    {% for item in casesList |sort(attribute="Name") %}
      {% set _ = sjpCase.push([
        {
          text: item.Name
        },
        {
          text: item.Town
        },
        {
          text: item.County
        },
        {
          text: item.Postcode
        },
        {
          text: item.Offence,
          colspan: 2
        },
        {
          text: item.Prosecutor
        }
      ]) %}
    {% endfor %}

    {{ govukTable({
      firstCellIsHeader: false,
      head: [
        {
          text: column1
        },
        {
          text: column2
        },
        {
          text: column3
        },
        {
          text: column4
        },
        {
          text: column5,
          colspan: 2
        },
        {
          text: column6
        }
      ],
      rows: sjpCase
    }) }}
    {{ backToTopButton() }}
  </div>
{% endblock %}
{% block bodyEnd %}
  {{ super() }}
  <script src="alphabetical-dev.js"></script>
{% endblock %}
