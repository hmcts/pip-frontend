{% from "./macros/common-components.njk" import goBack, backToTopButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% extends "template.njk" %}
{% block pageTitle %}
  {{ title }} {{ courtName }}?
{% endblock %}
{% block beforeContent %}
  {{ super() }}
  {{ goBack() }}
{% endblock %}
{% block content %}
  <h1 class="govuk-heading-l">{{ title }} {{ courtName }}?</h1>
  {% if publications.length === 0 %}
      <p class = "govuk-body govuk-!-font-size-16">Sorry, no lists found for this court</p>
  {% else %}
      <h2 class="govuk-body">{{ p1 }}</h2>
      <div class="parent-box">
          {% set pubs = [] %}
          {% for item in publications |sort(reverse= true, attribute="contentDate")%}
              <p class = "govuk-body govuk-!-font-size-16">
                  {% if item.isFlatFile %}
                      <a class=das-search-results__link target=”_blank” href = "file-publication?artefactId={{item.artefactId}}">
                          {{ item.listType | listType }} {{item.contentDate | date("DD MMMM YYYY")}}
                      </a>
                      (opens in a new window)
                  {% else %}
                      <a class = das-search-results__link href = "list-type?artefactId={{item.artefactId}}">
                          {{ item.listType | listType }} {{item.contentDate | date("DD MMMM YYYY")}}
                      </a>
                      <a class = das-search-results__link href ={{item.artefactId}}>
                          {{ item.listType | listType }}{{item.contentDate | date("DD MMMM YYYY")}}
                      </a>
                      {% if item.isFlatFile %}
                          (opens in a new window)
                      {% endif %}
                  {% endif %}
              </p>
          {% endfor %}
      </div>
      <br />
      <br />
      {{ backToTopButton() }}
  {% endif %}
{% endblock %}
{% block bodyEnd %}
  {{ super() }}
  <script src="alphabetical-dev.js"></script>
{% endblock %}
