{% from "../macros/common-components.njk" import goBack, searchInput %}

{% extends "../list-template.njk" %}
{% block pageTitle %}
    {{ title }}
{% endblock %}
{% block beforeContent %}
    {{ super() }}
    {{ goBack(text = backButton, cspNonce = cspNonce) }}
{% endblock %}
{% block content %}
    <div class="parent-box">
        <h2 id="page-heading" class="govuk-heading-l">
            {{ header }}
        </h2>

        <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">{{ listDate }} {{ contentDate }}</p>
        <p class="govuk-body">{{ listUpdated | replace("DATE", lastUpdatedDate) }} {{ lastUpdatedTime }}</p>

        <details class="govuk-details" data-module="govuk-details" open>
            <summary class="govuk-details__summary"><span class="govuk-details__summary-text">{{ importantInformationHeading }}</span></summary>
            <div class="govuk-details__text">
                <p class="govuk-body govuk-!-margin-bottom-2">{{ openJusticeStatement }}</p>
                <p class="govuk-body govuk-!-margin-bottom-2">{{ contactMessage | replace("EMAIL", emailAddress) }}</p>
                <p class="govuk-body govuk-!-padding-bottom-2">{{ observationLinkText1 }}
                    <a class="govuk-link" href="https://www.gov.uk/guidance/observe-a-court-or-tribunal-hearing">{{ observationLinkText2 }}</a>
                </p>
            </div>
        </details>

        {{ searchInput(text = searchCases) }}
        <div class="parent-box overflow-table">
            <div class="overflow-table govuk-body">
                {% for case in listData %}
                    <dl class="govuk-summary-list--no-border">
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ venue }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['venue'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ appealReferenceNumber }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['appealReferenceNumber'] }})
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ hearingType }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['hearingType'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ appellant }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['appellant'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ courtroom }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['courtroom'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ hearingTime }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['hearingTime'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ panel }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['panel'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ ftaRespondent }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['fta/respondent'] }}
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {{ additionalInformation }}
                            </dt>
                            <dd class="govuk-summary-list__value search-area">
                                {{ case['additionalInformation'] }}
                            </dd>
                        </div>
                    </dl>
                    <hr>
                {% endfor %}
            </div>
        </div>
        <p class="govuk-body govuk-!-font-size-14">{{ dataSource }}: {{ provenance | convertDataSourceName(lng) }}</p>
        {{ super() }}
    </div>
{% endblock %}
