{% from "macros/common-components.njk" import goBack, submitButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% extends "template.njk" %}
{% block pageTitle %}
 Media Account Rejection
{% endblock %}
{% block beforeContent %}
  {{ super() }}
  {{ goBack() }}
{% endblock %}
{% block content %}
  <h1 class="govuk-heading-l">Are you sure you want to reject this application?</h1>
  {{ govukTable({
    caption: tableCaption,
    captionClasses: "govuk-table__caption--m",
      firstCellIsHeader: true,
      rows: [
        [
          {
            text: name,
            classes: 'govuk-!-width-one-third'
          },
          {
            text: applicantData.fullName
          },
          {
            text: ""
          }
        ],
        [
          {
            text: email,
            classes: 'govuk-!-width-one-third'
          },
          {
            text: applicantData.email
          },
          {
            text: ""
          }
        ],
        [
          {
            text: employer,
            classes: 'govuk-!-width-one-third'
          },
          {
            text: applicantData.employer
          },
          {
            text: ""
          }
        ],
        [
          {
            text: dateApplied,
            classes: 'govuk-!-width-one-third'
          },
          {
            text: applicantData.requestDate
          },
          {
            text: ""
          }
        ],
        [
          {
            text: proofOfId,
            classes: 'govuk-!-width-one-third'
          },
          {
            text: applicantData.imageName + " (" + opensInWindowText + ")"
          },
          {
            html: "<a href=\"/media-account-review/image?imageId=" +  applicantData.image + "&applicantId=" + applicantData.id + "\" target=\"_blank\">" + viewText + "</a>",
            classes: "right-align-text"
          }
        ]
      ]
    }) }}
  {% if choice == "Yes" %}
  {% set formAction = "confirmReject" %}
  {% elif choice == "No" %}
  {% set formAction = "declineReject" %}
  {% else %}
    {% set formAction = "Error" %}
  {% endif %}
<form method="post">
  {{ govukRadios({
    classes: "govuk-radios--inline",
    idPrefix: "reject-confirmation",
    name: "reject-confirmation",
    fieldset: {
    },
    items: [
      {
        value: radioAnswers[0],
        text: radioAnswers[0],
        checked: choice === "Yes"
      },
      {
        value: radioAnswers[1],
        text: radioAnswers[1],
        checked: choice === "No"
      }
    ]
  }) }}
  {{ submitButton() }}
</form>
{% endblock %}
