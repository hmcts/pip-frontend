{% from "govuk/components/table/macro.njk" import govukTable as 'govukTable' %}
{% from "./macros/common-components.njk" import goBack %}

{% extends "template.njk" %}
{% block pageTitle %}
    {{ "Live Case Alphabet Search" | safe }}
{% endblock %}
{% block beforeContent %}
    {{ goBack('/view-option') }}
{% endblock %}
{% block content %}
    <div id="grid-row" class="govuk-grid-row">
        <div class="parent-box layout-width-one-fifth govuk-!-display-inline-block">
            <a id="back-to-top-button" class="floating-back-to-top govuk-link govuk-link--no-underline govuk-!-font-size-19" href="#">
                <svg focusable="false" class="app-back-to-top__icon" xmlns="http://www.w3.org/2000/svg" width="13" height="17" viewBox="0 0 13 17">
                    <path fill="currentColor" d="M6.5 0 L0 6.5 1.4 8l4-4v12.7h2V4l4.3 4L13 6.4z"></path>
                </svg>Back to top
            </a>
        </div>
        <div class="layout-width-four-fifths">
            <h2 id='page-heading' class="govuk-heading-l">Live hearings updates - select a court</h2>
            <p class="govuk-body">Select a court to see live updates of each hearing within that court</p>
            <div class="govuk-!-margin-bottom-8">
                <div class="govuk-grid-row">
                {% for key, value in courtList %}
                    {% if key == 'N' %}
                        </div>
                        <div class="govuk-grid-row">
                    {% endif %}
                    {% if value| length == 0 %}
                        <div class="govuk-grid-column two-rows-alphabet govuk-!-font-size-19">
                            <a id='{{ key }}-selector' class="govuk-link govuk-link--no-underline">{{ key }}</a>
                        </div>
                    {% else %}
                        <div class="govuk-grid-column two-rows-alphabet govuk-!-font-size-19">
                            <a id='{{ key }}-selector' href='#{{ key }}' class="govuk-link govuk-link--no-visited-state">{{ key }}</a>
                        </div>
                    {% endif %}
                {% endfor %}
                </div>
            </div>

            <table class="govuk-table">
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header" colspan="2">Crown courts in England and Wales</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                {% set first = '' %}
                {% for key, value in courtList %}
                    {% if value | length > 0 %}
                        {% for courtName, courtDetails in value %}
                            <tr  class="govuk-table__row">
                                {% if first != key %}
                                    {% set first = key %}
                                        <th scope="row" class="govuk-table__header">
                                            <div id="{{ key }}" class="govuk-!-font-size-27">{{key}}</div>
                                        </th>
                                    {% else %}
                                        <th scope="row" class="govuk-table__header">
                                        </th>
                                {% endif %}
                                <td class="govuk-table__cell"><a href="/live-status?courtId={{ courtDetails.id }}" class="govuk-link">{{ courtName }}</a></td>
                            </tr>
                        {% endfor %}
                        {% set first = '' %}
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}
{% block bodyEnd %}
    <script src="alphabetical-dev.js"></script>
{% endblock %}
